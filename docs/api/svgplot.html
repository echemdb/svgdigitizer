

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>svgdigitizer.svgplot &mdash; svgdigitizer 0.12.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=c5b435e8"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="svgdigitizer.svgfigure" href="svgfigure.html" />
    <link rel="prev" title="svgdigitizer.svg" href="svg.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            svgdigitizer
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cv.html"><code class="docutils literal notranslate"><span class="pre">svgdigitizer.electrochemistry.cv</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="svg.html"><code class="docutils literal notranslate"><span class="pre">svgdigitizer.svg</span></code></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">svgdigitizer.svgplot</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#svgdigitizer.svgplot.AxisOrientation"><code class="docutils literal notranslate"><span class="pre">AxisOrientation</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot"><code class="docutils literal notranslate"><span class="pre">SVGPlot</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.axis_labels"><code class="docutils literal notranslate"><span class="pre">SVGPlot.axis_labels</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.axis_orientations"><code class="docutils literal notranslate"><span class="pre">SVGPlot.axis_orientations</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.axis_variables"><code class="docutils literal notranslate"><span class="pre">SVGPlot.axis_variables</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.curve"><code class="docutils literal notranslate"><span class="pre">SVGPlot.curve</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.df"><code class="docutils literal notranslate"><span class="pre">SVGPlot.df</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.figure_schema"><code class="docutils literal notranslate"><span class="pre">SVGPlot.figure_schema</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.from_svg"><code class="docutils literal notranslate"><span class="pre">SVGPlot.from_svg()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.labeled_paths"><code class="docutils literal notranslate"><span class="pre">SVGPlot.labeled_paths</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.marked_points"><code class="docutils literal notranslate"><span class="pre">SVGPlot.marked_points</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.plot"><code class="docutils literal notranslate"><span class="pre">SVGPlot.plot()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.sample_path"><code class="docutils literal notranslate"><span class="pre">SVGPlot.sample_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.scaling_factors"><code class="docutils literal notranslate"><span class="pre">SVGPlot.scaling_factors</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.transformation"><code class="docutils literal notranslate"><span class="pre">SVGPlot.transformation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.xlabel"><code class="docutils literal notranslate"><span class="pre">SVGPlot.xlabel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot.ylabel"><code class="docutils literal notranslate"><span class="pre">SVGPlot.ylabel</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="svgfigure.html"><code class="docutils literal notranslate"><span class="pre">svgdigitizer.svgfigure</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#saving-data">Saving Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#special-figures">Special Figures</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html">Digitizing plots for echemdb</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">svgdigitizer</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">API</a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">svgdigitizer.svgplot</span></code></li>
  
  
    
      <li class="wy-breadcrumbs-aside">
              <!-- User defined GitHub URL -->
              <a href="https://github.com/echemdb/svgdigitizer/blob/master/svgdigitizer/svgplot.py" class="fa fa-github"> Edit on GitHub</a>
      </li>
  

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-svgdigitizer.svgplot">
<span id="svgdigitizer-svgplot"></span><h1><code class="docutils literal notranslate"><span class="pre">svgdigitizer.svgplot</span></code><a class="headerlink" href="#module-svgdigitizer.svgplot" title="Link to this heading">ÔÉÅ</a></h1>
<p>Scientific plots in SVG format.</p>
<p>A <a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot" title="svgdigitizer.svgplot.SVGPlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">SVGPlot</span></code></a> wraps a plot in SVG format consisting of a curve, axis
labels and (optionally) additional metadata provided as text fields in the SVG.</p>
<p>As an example, consider the graph given by the line segment connecting (0, 0)
and (1, 1). In the SVG coordinate system, such a line segment is
given as the path connecting the points (0, 100) and (100, 0); note that the
SVG coordinate system is negative, i.e., the y-axis grows towards the bottom:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">curve</span> <span class="o">=</span> <span class="s1">&#39;&lt;path d=&quot;M 0 100 L 100 0&quot; /&gt;&#39;</span>
</pre></div>
</div>
<p>We need to attach a label to this path, so <a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot" title="svgdigitizer.svgplot.SVGPlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">SVGPlot</span></code></a> understands that
this is the actual curve that contains data we want to digitize. We do so by
grouping this path with a label, that says ‚Äúcurve: ‚Ä¶‚Äù. The position of that
label has no importance but is required. The identifier itself does also not
matter in this example.  It is only relevant when there are multiple curves in
the same SVG:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">curve</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">      </span><span class="si">{</span><span class="w"> </span><span class="n">curve</span><span class="w"> </span><span class="si">}</span>
<span class="gp">... </span><span class="s1">      &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;curve: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span>
</pre></div>
</div>
<p>Additionally, we need to establish a plot coordinate system. We do so by
creating ticks for two reference ticks for both the x-axis and the y-axis.
To start, we want to define that the y=100 in the SVG coordinate system
corresponds to y=0 in the plot coordinate system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">y1</span> <span class="o">=</span> <span class="s1">&#39;&lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;&#39;</span>
</pre></div>
</div>
<p>The location of this reference label does not matter much, we just put it
somewhere where it looks nice. Now we need to pinpoint the place on the y-axis
that corresponds to y=0. We do so by drawing a path from close to the base
point of the reference label to that point on the y-axis and group it with the
label:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">y1</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">      &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">      </span><span class="si">{</span><span class="w"> </span><span class="n">y1</span><span class="w"> </span><span class="si">}</span>
<span class="gp">... </span><span class="s1">    &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span>
</pre></div>
</div>
<p>We repeat the same process for the other reference labels, i.e., <cite>y2</cite>, <cite>x1</cite>,
<cite>x2</cite> and obtain our input SVG that <a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot" title="svgdigitizer.svgplot.SVGPlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">SVGPlot</span></code></a> can make sense of. Note
that we added some units, so the x-axis is the time in seconds, and the y-axis
is a voltage in volts.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    &lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">      </span><span class="si">{</span><span class="w"> </span><span class="n">curve</span><span class="w"> </span><span class="si">}</span>
<span class="gp">... </span><span class="s1">      &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">        &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">        &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">      &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">      &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">        &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">        &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1s&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">      &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">      </span><span class="si">{</span><span class="w"> </span><span class="n">y1</span><span class="w"> </span><span class="si">}</span>
<span class="gp">... </span><span class="s1">      &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">        &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">        &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1V&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">      &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;/svg&gt;</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span>
</pre></div>
</div>
<p>We wrap this string into an <a class="reference internal" href="svg.html#svgdigitizer.svg.SVG" title="svgdigitizer.svg.SVG"><code class="xref py py-class docutils literal notranslate"><span class="pre">SVG</span></code></a> object and create an actual
<a class="reference internal" href="#svgdigitizer.svgplot.SVGPlot" title="svgdigitizer.svgplot.SVGPlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">SVGPlot</span></code></a> from it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">svg</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we can query the plot for things such as the units used on the axes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">axis_labels</span>
<span class="go">{&#39;x&#39;: &#39;s&#39;, &#39;y&#39;: &#39;V&#39;}</span>
</pre></div>
</div>
<p>We can get a pandas data frame with actual plot data in the plot coordinate
system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">df</span>
<span class="go">     x    y</span>
<span class="go">0  0.0  0.0</span>
<span class="go">1  1.0  1.0</span>
</pre></div>
</div>
<p>This data frame is built from the end points of the paths that make up the
curve. We can also interpolate at equidistant points on the x-axis by
specifying a <cite>sampling_interval</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">,</span> <span class="n">sampling_interval</span><span class="o">=</span><span class="mf">.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">df</span>
<span class="go">      x    y</span>
<span class="go">0   0.0  0.0</span>
<span class="go">1   0.1  0.1</span>
<span class="go">2   0.2  0.2</span>
<span class="go">3   0.3  0.3</span>
<span class="go">4   0.4  0.4</span>
<span class="go">5   0.5  0.5</span>
<span class="go">6   0.6  0.6</span>
<span class="go">7   0.7  0.7</span>
<span class="go">8   0.8  0.8</span>
<span class="go">9   0.9  0.9</span>
<span class="go">10  1.0  1.0</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.AxisOrientation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">svgdigitizer.svgplot.</span></span><span class="sig-name descname"><span class="pre">AxisOrientation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#svgdigitizer.svgplot.AxisOrientation" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>The orientation of a plot axis.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">svgdigitizer.svgplot.</span></span><span class="sig-name descname"><span class="pre">SVGPlot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">svg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">curve</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'axis-aligned'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>A plot as a Scalable Vector Graphics (SVG) which can be converted to (x, y)
coordinate pairs.</p>
<p>Typically, the SVG input has been created by tracing a measurement plot from
a publication with a <cite>&lt;path&gt;</cite> in an SVG editor such as Inkscape. Such a
path can then be analyzed by this class to produce the coordinates
corresponding to the original measured values.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">algorithm</span></code> ‚Äì mapping from the SVG coordinate system to the plot
coordinate system. The default, <cite>‚Äúaxis-aligned‚Äù</cite> assumes that the plot
axes are perfectly aligned with the SVG coordinate system. Alternatively,
<cite>‚Äúmark-aligned‚Äù</cite> assumes the end points of the axis markers are aligned,
i.e., <cite>x1</cite> and <cite>x2</cite> have the exact same y coordinate in the plot
coordinate system to also handle coordinate systems that are rotated or
skewed in the SVG.</p></li>
</ul>
<p>EXAMPLES:</p>
<p>An instance of this class can be created from a specially prepared SVG
file. There must at least be a <cite>&lt;path&gt;</cite> with a corresponding label. Here, a
segment goes from <cite>(0, 100)</cite> to <cite>(100, 0)</cite> in the (negative) SVG coordinate
system which corresponds to a segment from <cite>(0, 0)</cite> to <cite>(1, 1)</cite> in the plot
coordinate system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 100 L 100 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;curve: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">df</span>
<span class="go">     x    y</span>
<span class="go">0  0.0  0.0</span>
<span class="go">1  1.0  1.0</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.axis_labels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axis_labels</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.axis_labels" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return the label for each axis as dict with variable as key and unit as value.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;E1: 0 cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;E2: 1cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;j1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;j2: 1 A&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">axis_labels</span>
<span class="go">{&#39;E&#39;: &#39;cm&#39;, &#39;j&#39;: &#39;A&#39;}</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Labels on the axes must match:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0 cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1m&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">TestCase</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestCase</span><span class="o">.</span><span class="n">assertLogs</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">as</span> <span class="n">logs</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">plot</span><span class="o">.</span><span class="n">axis_labels</span>
<span class="gp">... </span>   <span class="nb">print</span><span class="p">(</span><span class="n">logs</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
<span class="go">{&#39;x&#39;: &#39;m&#39;, &#39;y&#39;: None}</span>
<span class="go">[&#39;WARNING:svgplot:Labels on x axis do not match. Will ignore label cm and use m.&#39;]</span>
</pre></div>
</div>
<p>Labels on the scalebar must match the labels on the axes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1m&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0mA&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -300 300 L -200 300&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -300 300 L -200 200&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-300&quot; y=&quot;300&quot;&gt;y_scale_bar: 1A&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestCase</span><span class="o">.</span><span class="n">assertLogs</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">as</span> <span class="n">logs</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">plot</span><span class="o">.</span><span class="n">axis_labels</span>
<span class="gp">... </span>   <span class="nb">print</span><span class="p">(</span><span class="n">logs</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
<span class="go">{&#39;x&#39;: &#39;m&#39;, &#39;y&#39;: &#39;A&#39;}</span>
<span class="go">[&#39;WARNING:svgplot:Labels on y axis do not match. Will ignore label mA and use A.&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.axis_orientations">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axis_orientations</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.axis_orientations" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return the <a class="reference internal" href="#svgdigitizer.svgplot.AxisOrientation" title="svgdigitizer.svgplot.AxisOrientation"><code class="xref py py-class docutils literal notranslate"><span class="pre">AxisOrientation</span></code></a> for each axis.</p>
<p>ALGORITHM:</p>
<p>We suppose that one axis was meant to be the horizontal axis and one
axis was meant to be the vertical axis. Under this assumption we
compute the transformation that makes the axes perfectly horizontal and
vertical. We determine how much rotation is needed in this transformation.
Now we exchange the roles of the axes and again the amount of rotation needed.
We then label the axes such that the amount of rotation is minimized.</p>
<p>Naturally, this does not work very well when the axes are at almost 45¬∞
and it is not clear which axis was meant to be horizontal and vertical.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;E1: 0 cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;E2: 1cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;j1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;j2: 1 A&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">axis_orientations</span>
<span class="go">{&lt;AxisOrientation.HORIZONTAL: &#39;horizontal&#39;&gt;: &#39;E&#39;, &lt;AxisOrientation.VERTICAL: &#39;vertical&#39;&gt;: &#39;j&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.axis_variables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axis_variables</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.axis_variables" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return the label for each axis.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;E1: 0 cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;E2: 1cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;j1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;j2: 1 A&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">axis_variables</span>
<span class="go">[&#39;E&#39;, &#39;j&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;E1: 0 cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;E2: 1cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;intensity1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;intensity2: 1 A&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">axis_variables</span>
<span class="go">[&#39;E&#39;, &#39;intensity&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.curve">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">curve</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.curve" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return the path that is tracing the plot in the SVG.</p>
<p>This essentially returns the <cite>&lt;path&gt;</cite> tag that is not used for other
purposes such as pointing to axis labels. However, the path is written
in the plot coordinate system.</p>
<p>EXAMPLES:</p>
<p>A plot going from (0, 0) to (1, 1):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 100 L 100 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;curve: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">curve</span>
<span class="go">Path(Line(start=0j, end=(1+1j)))</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Test that filtering by curve identifier works:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">,</span> <span class="n">curve</span><span class="o">=</span><span class="s2">&quot;main curve&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">curve</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">svgdigitizer.exceptions.SVGAnnotationError</span>: <span class="n">No paths labeled &#39;curve: main curve&#39; found.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.df">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">df</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.df" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return the plot data as a dataframe of pairs (x, y).</p>
<p>The returned data lives in the plot coordinate system.</p>
<p>EXAMPLES:</p>
<p>A diagonal from (0, 100) to (100, 0) in the SVG coordinate system,
i.e., the function y=x:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 100 L 100 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;curve: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">df</span>
<span class="go">     x    y</span>
<span class="go">0  0.0  0.0</span>
<span class="go">1  1.0  1.0</span>
</pre></div>
</div>
<p>The same plot but now sampled at 0.2 increments on the x-axis:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">,</span> <span class="n">sampling_interval</span><span class="o">=</span><span class="mf">.2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">df</span>
<span class="go">     x    y</span>
<span class="go">0  0.0  0.0</span>
<span class="go">1  0.2  0.2</span>
<span class="go">2  0.4  0.4</span>
<span class="go">3  0.6  0.6</span>
<span class="go">4  0.8  0.8</span>
<span class="go">5  1.0  1.0</span>
</pre></div>
</div>
<p>Again diagonal from (0, 100) to (100, 50) in the SVG coordinate system,
i.e., visually the function y=x/2. However, the coordinate system is
skewed, the x-axis is parallel to the plot and so this is actually the
function y=0:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 100 L 100 50&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;curve: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 50&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;mark-aligned&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">df</span>
<span class="go">     x    y</span>
<span class="go">0  0.0  0.0</span>
<span class="go">1  1.0  0.0</span>
</pre></div>
</div>
<p>The same plot but now sampled at 0.2 increments on the x-axis:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">,</span> <span class="n">sampling_interval</span><span class="o">=</span><span class="mf">.2</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;mark-aligned&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">df</span>
<span class="go">     x    y</span>
<span class="go">0  0.0  0.0</span>
<span class="go">1  0.2  0.0</span>
<span class="go">2  0.4  0.0</span>
<span class="go">3  0.6  0.0</span>
<span class="go">4  0.8  0.0</span>
<span class="go">5  1.0  0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.figure_schema">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">figure_schema</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.figure_schema" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>A frictionless <cite>Schema</cite> object, including a <cite>Fields</cite> object
describing the dimensions, units and orientation of the original
plot axes.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svgplot</span> <span class="kn">import</span> <span class="n">SVGPlot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 100 L 100 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;curve: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;t1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;t2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">figure_schema</span>
<span class="go">{&#39;fields&#39;: [{&#39;name&#39;: &#39;t&#39;, &#39;type&#39;: &#39;number&#39;, &#39;unit&#39;: None, &#39;orientation&#39;: &#39;x&#39;},</span>
<span class="go">            {&#39;name&#39;: &#39;y&#39;, &#39;type&#39;: &#39;number&#39;, &#39;unit&#39;: None, &#39;orientation&#39;: &#39;y&#39;}]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.from_svg">
<span class="sig-name descname"><span class="pre">from_svg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.from_svg" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Map the point (x, y) from the SVG coordinate system to the plot
coordinate system.</p>
<p>EXAMPLES:</p>
<p>A simple plot. The plot uses a Cartesian (positive) coordinate system
which in the SVG becomes a negative coordinate system, i.e., in the
plot y grows towards the bottom. Here, the SVG coordinate (0, 100) is
mapped to (0, 0) and (100, 0) is mapped to (1, 1):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">from_svg</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">(0.0, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">from_svg</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">(1.0, 1.0)</span>
</pre></div>
</div>
<p>A typical plot. Like the above but the origin is shifted and the two
axes are not scaled equally. Here (1024, 512) is mapped to (0, 0) and
(1124, 256) is mapped to (1, 1):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 1024 612 L 1024 512&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;1024&quot; y=&quot;612&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 1124 612 L 1124 512&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;1124&quot; y=&quot;612&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 924 512 L 1024 512&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;924&quot; y=&quot;512&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 924 256 L 1024 256&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;924&quot; y=&quot;256&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">allclose</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allclose</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">from_svg</span><span class="p">(</span><span class="mi">1024</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allclose</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">from_svg</span><span class="p">(</span><span class="mi">1124</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A skewed plot. In this plot the axes are not orthogonal. In real plots
the axes might be non-orthogonal but not as much as in this
example. Here, one axis goes horizontally from (0, 100) to (100, 100)
and the other axis goes at an angle from (0, 100) to (100, 0):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 0 L 100 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;mark-aligned&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">from_svg</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">(0.0, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">from_svg</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">(1.0, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">from_svg</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">(0.0, 1.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">from_svg</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">(-1.0, 1.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.labeled_paths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">labeled_paths</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.labeled_paths" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>All paths with their corresponding label.</p>
<p>We only consider paths which are grouped with a label, i.e., a <cite>&lt;text&gt;</cite>
element. These text elements then tell us about the meaning of that
path, e.g., the path that is labeled as <cite>curve</cite> is the actual graph we
are going to extract the (x, y) coordinate pairs from.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 100 L 100 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;curve: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">labeled_paths</span>
<span class="go">{&#39;ref_point&#39;: [], &#39;scale_bar&#39;: [], &#39;curve&#39;: [[Path &quot;curve: 0&quot;]]}</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 100 L 100 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;kurve: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">TestCase</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestCase</span><span class="o">.</span><span class="n">assertLogs</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">as</span> <span class="n">warnings</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">plot</span><span class="o">.</span><span class="n">labeled_paths</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">warnings</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
<span class="go">{&#39;ref_point&#39;: [], &#39;scale_bar&#39;: [], &#39;curve&#39;: []}</span>
<span class="go">[&#39;WARNING:svgplot:Ignoring &lt;path&gt; with unsupported label kurve: 0.&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.marked_points">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">marked_points</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.marked_points" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return the points that have been marked on the axes of the plot.</p>
<p>For each point, a tuple is returned relating the point‚Äôs coordinates in
the SVG coordinate system to the point‚Äôs coordinates in the plot
coordinate system, or <cite>None</cite> if that point‚Äôs coordinate is not known.</p>
<p>EXAMPLES:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 100 L 100 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;curve: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">marked_points</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">100.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)}</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Test that scalebars can be parsed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -300 300 L -200 300&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -300 300 L -200 200&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-300&quot; y=&quot;300&quot;&gt;y_scale_bar: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">marked_points</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">100.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)}</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.plot" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Visualize the data in this plot.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 100 L 100 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;curve: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1 s&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1 cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.sample_path">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sample_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_interval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endpoints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'include'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.sample_path" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return points on <cite>path</cite>, sampled at equidistant increments on the
x-axis.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><cite>path</cite> ‚Äì the SVG path to sample along the SVG x-axis.</p></li>
<li><p><cite>sampling_interval</cite> ‚Äì the distance between two samples on the SVG
x-axis.</p></li>
<li><p><cite>endpoints</cite> ‚Äì whether to include the endpoints of each path segment
<cite>‚Äúinclude‚Äù</cite> or not to include them <cite>‚Äúexclude‚Äù</cite>; see below for details.</p></li>
</ul>
<p>ALGORITHM:</p>
<p>Let us assume that <cite>path</cite> is made up of Bezier curve segments (the
other cases work essentially the same but are easier.) We project the
curve down to the x-axis. This projection is stil a Bezier curve, i.e.,
of the form</p>
<blockquote>
<div><p>B(t) = (1-t)^3 P_0 + 3t(1-t)^2 P_1 + 3t^2(1-t) P_2 + t^3 P_3.</p>
</div></blockquote>
<p>Since all the control points are on the axis, this is just a univariate
polynomial of degree 3, in particular we can easily differentiate it,
take its absolute value and integrate again. The result is a piecewise
function x(t) that is a polynomial of degree three and it encodes the
total distance on the x-axis at time t. So given some <cite>X</cite> we can easily
solve for</p>
<blockquote>
<div><p>x(T) = X</p>
</div></blockquote>
<p>Incrementing <cite>X</cite> by the step size, this gives us all the times <cite>T</cite> that
we wanted to sample for.</p>
<p>Sampling at equidistant increments might actually drop features of the
curve. In the most extreme case, a vertical line segment, such sampling
returns one (implementation dependent) point on that line segment. When
<cite>endpoints</cite> is set to <cite>‚Äúinclude‚Äù</cite>, we always include the endpoints of
each path segment even if they are not spaced by the sampling interval.
If set to <cite>‚Äúexclude‚Äù</cite> we strictly sample at the sampling interval.</p>
<p>EXAMPLES:</p>
<p>We can sample a pair of line segments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgpathtools.path</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;M 0 0 L 1 1 L 2 0&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SVGPlot</span><span class="o">.</span><span class="n">sample_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="mf">.5</span><span class="p">)</span>
<span class="go">[(0.0, 0.0), (0.5, 0.5), (1.0, 1.0), (1.5, 0.5), (2.0, 0.0)]</span>
</pre></div>
</div>
<p>We can sample a pair of Bezier curves, going from (0, 0) to (2, 0) with
a sharp peak at (1, 1):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgpathtools.path</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;M0 0 C 1 0, 1 0, 1 1 C 1 0, 1 0, 2 0&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SVGPlot</span><span class="o">.</span><span class="n">sample_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">[(0.0, 0.0), (1.0, 1.0), (2.0, 0.0)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">SVGPlot</span><span class="o">.</span><span class="n">sample_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="mf">.5</span><span class="p">))</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">SVGPlot</span><span class="o">.</span><span class="n">sample_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="mf">.1</span><span class="p">))</span>
<span class="go">21</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">SVGPlot</span><span class="o">.</span><span class="n">sample_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="mf">.01</span><span class="p">))</span>
<span class="go">201</span>
</pre></div>
</div>
<p>We can sample vertical line segments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgpathtools.path</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;M 0 0 L 0 1 M 1 1 L 1 0&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SVGPlot</span><span class="o">.</span><span class="n">sample_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="mf">.0001</span><span class="p">)</span>
<span class="go">[(0.0, 0.0), (0.0, 1.0), (1.0, 1.0), (1.0, 0.0)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SVGPlot</span><span class="o">.</span><span class="n">sample_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="mf">.0001</span><span class="p">,</span> <span class="n">endpoints</span><span class="o">=</span><span class="s1">&#39;exclude&#39;</span><span class="p">)</span>  <span class="c1"># the implementation chooses the initial point of the first segment</span>
<span class="go">[(0.0, 1.0)]</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>A case where numpy‚Äôs root finding returns the extrema out of order:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgpathtools.path</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;M-267 26 C -261 25, -266 24, -264 23&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">SVGPlot</span><span class="o">.</span><span class="n">sample_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="mf">.001</span><span class="p">))</span>
<span class="go">4159</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.scaling_factors">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scaling_factors</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.scaling_factors" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return the scaling factors for each axis.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;y_scaling_factor: 50.6&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;xsf: 50.6&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">scaling_factors</span>
<span class="go">{&#39;x&#39;: 50.6, &#39;y&#39;: 50.6}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;j_scaling_factor: 24.5&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;Esf: 18.3&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;E1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;E2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;j1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;j2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">scaling_factors</span>
<span class="go">{&#39;E&#39;: 18.3, &#39;j&#39;: 24.5}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.transformation">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">transformation</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.transformation" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return the affine map from the SVG coordinate system to the plot
coordinate system as a matrix, see
<a class="reference external" href="https://en.wikipedia.org/wiki/Affine_group#Matrix_representation">https://en.wikipedia.org/wiki/Affine_group#Matrix_representation</a></p>
<p>EXAMPLES:</p>
<p>A simple plot. The plot uses a Cartesian (positive) coordinate system
which in the SVG becomes a negative coordinate system, i.e., in the
plot y grows towards the bottom. Here, the SVG coordinate (0, 100) is
mapped to (0, 0) and (100, 0) is mapped to (1, 1):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span><span class="o">.</span><span class="n">transformation</span>
<span class="go">array([[ 0.01,  0.  ,  0.  ],</span>
<span class="go">       [ 0.  , -0.01,  1.  ],</span>
<span class="go">       [ 0.  ,  0.  ,  1.  ]])</span>
</pre></div>
</div>
<p>A typical plot. Like the above but the origin is shifted and the two
axes are not scaled equally. Here (1000, 500) is mapped to (0, 0) and
(1100, 300) is mapped to (1, 1):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 1000 600 L 1000 500&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;1000&quot; y=&quot;600&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 1100 600 L 1100 500&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;1100&quot; y=&quot;600&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 900 500 L 1000 500&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;900&quot; y=&quot;500&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 900 300 L 1000 300&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;900&quot; y=&quot;300&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span><span class="o">.</span><span class="n">transformation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">allclose</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allclose</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="p">[</span>
<span class="gp">... </span>  <span class="p">[</span> <span class="mf">0.01</span><span class="p">,</span>  <span class="mf">0.000</span><span class="p">,</span> <span class="o">-</span><span class="mf">10.00</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span> <span class="mf">0.00</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.005</span><span class="p">,</span>   <span class="mf">2.50</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span> <span class="mf">0.00</span><span class="p">,</span>  <span class="mf">0.000</span><span class="p">,</span>   <span class="mf">1.00</span><span class="p">],</span>
<span class="gp">... </span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A skewed plot. In this plot the axes are not orthogonal. In real plots
the axes might be non-orthogonal but not as much as in this
example. Here, one axis goes horizontally from (0, 100) to (100, 100)
and the other axis goes at an angle from (0, 100) to (100, 0):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 0 L 100 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;0&quot;&gt;y2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;mark-aligned&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">transformation</span>
<span class="go">array([[ 0.01,  0.01, -1.  ],</span>
<span class="go">       [ 0.  , -0.01,  1.  ],</span>
<span class="go">       [ 0.  ,  0.  ,  1.  ]])</span>
</pre></div>
</div>
<p>A skewed plot like the one above but with a scale bar:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;x1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;x2: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;y1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -300 300 L -200 300&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -300 300 L -100 200&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-300&quot; y=&quot;300&quot;&gt;y_scale_bar: 1&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;mark-aligned&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">transformation</span>
<span class="go">array([[ 0.01,  0.01, -1.  ],</span>
<span class="go">       [ 0.  , -0.01,  1.  ],</span>
<span class="go">       [ 0.  ,  0.  ,  1.  ]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.xlabel">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">xlabel</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.xlabel" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return the label of the x axis.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;E1: 0 cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;E2: 1cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;j1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;j2: 1 A&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">xlabel</span>
<span class="go">&#39;E&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="svgdigitizer.svgplot.SVGPlot.ylabel">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ylabel</span></span><a class="headerlink" href="#svgdigitizer.svgplot.SVGPlot.ylabel" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return the label of the y axis.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">svgdigitizer.svg</span> <span class="kn">import</span> <span class="n">SVG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svg</span> <span class="o">=</span> <span class="n">SVG</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">&lt;svg&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 0 200 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;0&quot; y=&quot;200&quot;&gt;E1: 0 cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M 100 200 L 100 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;100&quot; y=&quot;200&quot;&gt;E2: 1cm&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 100 L 0 100&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;100&quot;&gt;j1: 0&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;g&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;path d=&quot;M -100 0 L 0 0&quot; /&gt;</span>
<span class="gp">... </span><span class="s1">    &lt;text x=&quot;-100&quot; y=&quot;0&quot;&gt;j2: 1 A&lt;/text&gt;</span>
<span class="gp">... </span><span class="s1">  &lt;/g&gt;</span>
<span class="gp">... </span><span class="s1">&lt;/svg&gt;&#39;&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">SVGPlot</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">ylabel</span>
<span class="go">&#39;j&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="svg.html" class="btn btn-neutral float-left" title="svgdigitizer.svg" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="svgfigure.html" class="btn btn-neutral float-right" title="svgdigitizer.svgfigure" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2024, the svgdigitizer authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>